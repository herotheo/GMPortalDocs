# 1.8 会话关联（Session Affinity）

### 产品指标

新渡-国密安全WEB网关支持配置会话关联（会话保持）。

会话关联可以识别网关与后端服务器之间交互过程的关联性，在作负载均衡的同时，还保证一系列相关联的访问请求会保持分配到同一台服务器上。

### 指标演示

<p style="color:red;font-weight:bold">
       注:此次演示后端服务器A与后端服务器B上部署的系统均为一个登录系统。
</p>

* 演示项目：配置会话关联
* 预期结果：当我们使用谷歌浏览器访问网关成功与后端服务器A建立连接后，我们执行登录操作后，打开一个新的谷歌浏览器窗口，再次访问网关，依旧是与后端服务器A建立连接，并且不用重新登录即可进行后续操作。
* 演示过程：
  1. 在负载均衡策略为轮询的前提下，我们先不配置会话关联，然后使用谷歌浏览器访问网关。
  2. 第一次会发现我们与后端服务器A建立了连接，说明负载均衡会将我们分配到后端服务器A上。
  3. 然后我们进行登录操作。
  4. 这时我们重新打开一个谷歌浏览器窗口，再次访问网关，会发现这次我们与后端服务器B建立了连接，说明负载均衡将我们分配到了后端服务器B，这导致我们又需要重新登录一次。
  5. 然后我们配置会话关联，重启网关后，再次使用谷歌浏览器访问网关。
  6. 第一次我们与后端服务器A建立了连接，然后我们进行登录操作。
  7. 这时我们重新打开一个谷歌浏览器窗口，再次访问网关，会发现这次我们依旧是与后端服务器A建立了连接，不用重新登录，即可进行后续操作。

至此，"新渡-国密安全WEB网关"的会话关联功能演示完毕，结果与预期结果相同。